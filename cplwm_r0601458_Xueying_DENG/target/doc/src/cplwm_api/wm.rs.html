<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="Source to the Rust file `/home/deng/Desktop/cplwm_r0601458_Xueying_DENG/api/src/wm.rs`.">
    <meta name="keywords" content="rust, rustlang, rust-lang">

    <title>wm.rs.html -- source</title>

    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content source"><pre class="line-numbers"><span id="1">  1</span>
<span id="2">  2</span>
<span id="3">  3</span>
<span id="4">  4</span>
<span id="5">  5</span>
<span id="6">  6</span>
<span id="7">  7</span>
<span id="8">  8</span>
<span id="9">  9</span>
<span id="10"> 10</span>
<span id="11"> 11</span>
<span id="12"> 12</span>
<span id="13"> 13</span>
<span id="14"> 14</span>
<span id="15"> 15</span>
<span id="16"> 16</span>
<span id="17"> 17</span>
<span id="18"> 18</span>
<span id="19"> 19</span>
<span id="20"> 20</span>
<span id="21"> 21</span>
<span id="22"> 22</span>
<span id="23"> 23</span>
<span id="24"> 24</span>
<span id="25"> 25</span>
<span id="26"> 26</span>
<span id="27"> 27</span>
<span id="28"> 28</span>
<span id="29"> 29</span>
<span id="30"> 30</span>
<span id="31"> 31</span>
<span id="32"> 32</span>
<span id="33"> 33</span>
<span id="34"> 34</span>
<span id="35"> 35</span>
<span id="36"> 36</span>
<span id="37"> 37</span>
<span id="38"> 38</span>
<span id="39"> 39</span>
<span id="40"> 40</span>
<span id="41"> 41</span>
<span id="42"> 42</span>
<span id="43"> 43</span>
<span id="44"> 44</span>
<span id="45"> 45</span>
<span id="46"> 46</span>
<span id="47"> 47</span>
<span id="48"> 48</span>
<span id="49"> 49</span>
<span id="50"> 50</span>
<span id="51"> 51</span>
<span id="52"> 52</span>
<span id="53"> 53</span>
<span id="54"> 54</span>
<span id="55"> 55</span>
<span id="56"> 56</span>
<span id="57"> 57</span>
<span id="58"> 58</span>
<span id="59"> 59</span>
<span id="60"> 60</span>
<span id="61"> 61</span>
<span id="62"> 62</span>
<span id="63"> 63</span>
<span id="64"> 64</span>
<span id="65"> 65</span>
<span id="66"> 66</span>
<span id="67"> 67</span>
<span id="68"> 68</span>
<span id="69"> 69</span>
<span id="70"> 70</span>
<span id="71"> 71</span>
<span id="72"> 72</span>
<span id="73"> 73</span>
<span id="74"> 74</span>
<span id="75"> 75</span>
<span id="76"> 76</span>
<span id="77"> 77</span>
<span id="78"> 78</span>
<span id="79"> 79</span>
<span id="80"> 80</span>
<span id="81"> 81</span>
<span id="82"> 82</span>
<span id="83"> 83</span>
<span id="84"> 84</span>
<span id="85"> 85</span>
<span id="86"> 86</span>
<span id="87"> 87</span>
<span id="88"> 88</span>
<span id="89"> 89</span>
<span id="90"> 90</span>
<span id="91"> 91</span>
<span id="92"> 92</span>
<span id="93"> 93</span>
<span id="94"> 94</span>
<span id="95"> 95</span>
<span id="96"> 96</span>
<span id="97"> 97</span>
<span id="98"> 98</span>
<span id="99"> 99</span>
<span id="100">100</span>
<span id="101">101</span>
<span id="102">102</span>
<span id="103">103</span>
<span id="104">104</span>
<span id="105">105</span>
<span id="106">106</span>
<span id="107">107</span>
<span id="108">108</span>
<span id="109">109</span>
<span id="110">110</span>
<span id="111">111</span>
<span id="112">112</span>
<span id="113">113</span>
<span id="114">114</span>
<span id="115">115</span>
<span id="116">116</span>
<span id="117">117</span>
<span id="118">118</span>
<span id="119">119</span>
<span id="120">120</span>
<span id="121">121</span>
<span id="122">122</span>
<span id="123">123</span>
<span id="124">124</span>
<span id="125">125</span>
<span id="126">126</span>
<span id="127">127</span>
<span id="128">128</span>
<span id="129">129</span>
<span id="130">130</span>
<span id="131">131</span>
<span id="132">132</span>
<span id="133">133</span>
<span id="134">134</span>
<span id="135">135</span>
<span id="136">136</span>
<span id="137">137</span>
<span id="138">138</span>
<span id="139">139</span>
<span id="140">140</span>
<span id="141">141</span>
<span id="142">142</span>
<span id="143">143</span>
<span id="144">144</span>
<span id="145">145</span>
<span id="146">146</span>
<span id="147">147</span>
<span id="148">148</span>
<span id="149">149</span>
<span id="150">150</span>
<span id="151">151</span>
<span id="152">152</span>
<span id="153">153</span>
<span id="154">154</span>
<span id="155">155</span>
<span id="156">156</span>
<span id="157">157</span>
<span id="158">158</span>
<span id="159">159</span>
<span id="160">160</span>
<span id="161">161</span>
<span id="162">162</span>
<span id="163">163</span>
<span id="164">164</span>
<span id="165">165</span>
<span id="166">166</span>
<span id="167">167</span>
<span id="168">168</span>
<span id="169">169</span>
<span id="170">170</span>
<span id="171">171</span>
<span id="172">172</span>
<span id="173">173</span>
<span id="174">174</span>
<span id="175">175</span>
<span id="176">176</span>
<span id="177">177</span>
<span id="178">178</span>
<span id="179">179</span>
<span id="180">180</span>
<span id="181">181</span>
<span id="182">182</span>
<span id="183">183</span>
<span id="184">184</span>
<span id="185">185</span>
<span id="186">186</span>
<span id="187">187</span>
<span id="188">188</span>
<span id="189">189</span>
<span id="190">190</span>
<span id="191">191</span>
<span id="192">192</span>
<span id="193">193</span>
<span id="194">194</span>
<span id="195">195</span>
<span id="196">196</span>
<span id="197">197</span>
<span id="198">198</span>
<span id="199">199</span>
<span id="200">200</span>
<span id="201">201</span>
<span id="202">202</span>
<span id="203">203</span>
<span id="204">204</span>
<span id="205">205</span>
<span id="206">206</span>
<span id="207">207</span>
<span id="208">208</span>
<span id="209">209</span>
<span id="210">210</span>
<span id="211">211</span>
<span id="212">212</span>
<span id="213">213</span>
<span id="214">214</span>
<span id="215">215</span>
<span id="216">216</span>
<span id="217">217</span>
<span id="218">218</span>
<span id="219">219</span>
<span id="220">220</span>
<span id="221">221</span>
<span id="222">222</span>
<span id="223">223</span>
<span id="224">224</span>
<span id="225">225</span>
<span id="226">226</span>
<span id="227">227</span>
<span id="228">228</span>
<span id="229">229</span>
<span id="230">230</span>
<span id="231">231</span>
<span id="232">232</span>
<span id="233">233</span>
<span id="234">234</span>
<span id="235">235</span>
<span id="236">236</span>
<span id="237">237</span>
<span id="238">238</span>
<span id="239">239</span>
<span id="240">240</span>
<span id="241">241</span>
<span id="242">242</span>
<span id="243">243</span>
<span id="244">244</span>
<span id="245">245</span>
<span id="246">246</span>
<span id="247">247</span>
<span id="248">248</span>
<span id="249">249</span>
<span id="250">250</span>
<span id="251">251</span>
<span id="252">252</span>
<span id="253">253</span>
<span id="254">254</span>
<span id="255">255</span>
<span id="256">256</span>
<span id="257">257</span>
<span id="258">258</span>
<span id="259">259</span>
<span id="260">260</span>
<span id="261">261</span>
<span id="262">262</span>
<span id="263">263</span>
<span id="264">264</span>
<span id="265">265</span>
<span id="266">266</span>
<span id="267">267</span>
<span id="268">268</span>
<span id="269">269</span>
<span id="270">270</span>
<span id="271">271</span>
<span id="272">272</span>
<span id="273">273</span>
<span id="274">274</span>
<span id="275">275</span>
<span id="276">276</span>
<span id="277">277</span>
<span id="278">278</span>
<span id="279">279</span>
<span id="280">280</span>
<span id="281">281</span>
<span id="282">282</span>
<span id="283">283</span>
<span id="284">284</span>
<span id="285">285</span>
<span id="286">286</span>
<span id="287">287</span>
<span id="288">288</span>
<span id="289">289</span>
<span id="290">290</span>
<span id="291">291</span>
<span id="292">292</span>
<span id="293">293</span>
<span id="294">294</span>
<span id="295">295</span>
<span id="296">296</span>
<span id="297">297</span>
<span id="298">298</span>
<span id="299">299</span>
<span id="300">300</span>
<span id="301">301</span>
<span id="302">302</span>
<span id="303">303</span>
<span id="304">304</span>
<span id="305">305</span>
<span id="306">306</span>
<span id="307">307</span>
<span id="308">308</span>
<span id="309">309</span>
<span id="310">310</span>
<span id="311">311</span>
<span id="312">312</span>
<span id="313">313</span>
<span id="314">314</span>
<span id="315">315</span>
<span id="316">316</span>
<span id="317">317</span>
<span id="318">318</span>
<span id="319">319</span>
<span id="320">320</span>
<span id="321">321</span>
<span id="322">322</span>
<span id="323">323</span>
<span id="324">324</span>
<span id="325">325</span>
<span id="326">326</span>
<span id="327">327</span>
<span id="328">328</span>
<span id="329">329</span>
<span id="330">330</span>
<span id="331">331</span>
<span id="332">332</span>
<span id="333">333</span>
<span id="334">334</span>
<span id="335">335</span>
<span id="336">336</span>
<span id="337">337</span>
<span id="338">338</span>
<span id="339">339</span>
<span id="340">340</span>
<span id="341">341</span>
<span id="342">342</span>
<span id="343">343</span>
<span id="344">344</span>
<span id="345">345</span>
<span id="346">346</span>
<span id="347">347</span>
<span id="348">348</span>
<span id="349">349</span>
<span id="350">350</span>
<span id="351">351</span>
<span id="352">352</span>
<span id="353">353</span>
<span id="354">354</span>
<span id="355">355</span>
<span id="356">356</span>
<span id="357">357</span>
<span id="358">358</span>
<span id="359">359</span>
<span id="360">360</span>
<span id="361">361</span>
<span id="362">362</span>
<span id="363">363</span>
<span id="364">364</span>
<span id="365">365</span>
<span id="366">366</span>
<span id="367">367</span>
<span id="368">368</span>
<span id="369">369</span>
<span id="370">370</span>
<span id="371">371</span>
<span id="372">372</span>
<span id="373">373</span>
<span id="374">374</span>
<span id="375">375</span>
<span id="376">376</span>
<span id="377">377</span>
<span id="378">378</span>
<span id="379">379</span>
<span id="380">380</span>
<span id="381">381</span>
<span id="382">382</span>
<span id="383">383</span>
<span id="384">384</span>
<span id="385">385</span>
<span id="386">386</span>
<span id="387">387</span>
<span id="388">388</span>
<span id="389">389</span>
<span id="390">390</span>
<span id="391">391</span>
<span id="392">392</span>
<span id="393">393</span>
<span id="394">394</span>
<span id="395">395</span>
<span id="396">396</span>
<span id="397">397</span>
<span id="398">398</span>
<span id="399">399</span>
<span id="400">400</span>
<span id="401">401</span>
<span id="402">402</span>
<span id="403">403</span>
<span id="404">404</span>
<span id="405">405</span>
<span id="406">406</span>
<span id="407">407</span>
<span id="408">408</span>
<span id="409">409</span>
<span id="410">410</span>
<span id="411">411</span>
<span id="412">412</span>
<span id="413">413</span>
<span id="414">414</span>
<span id="415">415</span>
<span id="416">416</span>
<span id="417">417</span>
<span id="418">418</span>
<span id="419">419</span>
<span id="420">420</span>
<span id="421">421</span>
<span id="422">422</span>
<span id="423">423</span>
<span id="424">424</span>
<span id="425">425</span>
<span id="426">426</span>
<span id="427">427</span>
<span id="428">428</span>
<span id="429">429</span>
<span id="430">430</span>
<span id="431">431</span>
<span id="432">432</span>
<span id="433">433</span>
<span id="434">434</span>
<span id="435">435</span>
<span id="436">436</span>
<span id="437">437</span>
<span id="438">438</span>
<span id="439">439</span>
<span id="440">440</span>
<span id="441">441</span>
<span id="442">442</span>
<span id="443">443</span>
<span id="444">444</span>
<span id="445">445</span>
<span id="446">446</span>
<span id="447">447</span>
<span id="448">448</span>
<span id="449">449</span>
<span id="450">450</span>
<span id="451">451</span>
<span id="452">452</span>
<span id="453">453</span>
<span id="454">454</span>
<span id="455">455</span>
<span id="456">456</span>
<span id="457">457</span>
<span id="458">458</span>
<span id="459">459</span>
<span id="460">460</span>
<span id="461">461</span>
<span id="462">462</span>
<span id="463">463</span>
<span id="464">464</span>
<span id="465">465</span>
<span id="466">466</span>
<span id="467">467</span>
<span id="468">468</span>
<span id="469">469</span>
<span id="470">470</span>
<span id="471">471</span>
<span id="472">472</span>
<span id="473">473</span>
<span id="474">474</span>
<span id="475">475</span>
<span id="476">476</span>
<span id="477">477</span>
<span id="478">478</span>
<span id="479">479</span>
<span id="480">480</span>
<span id="481">481</span>
<span id="482">482</span>
<span id="483">483</span>
<span id="484">484</span>
<span id="485">485</span>
<span id="486">486</span>
<span id="487">487</span>
<span id="488">488</span>
<span id="489">489</span>
<span id="490">490</span>
<span id="491">491</span>
<span id="492">492</span>
<span id="493">493</span>
<span id="494">494</span>
<span id="495">495</span>
<span id="496">496</span>
<span id="497">497</span>
<span id="498">498</span>
<span id="499">499</span>
<span id="500">500</span>
<span id="501">501</span>
<span id="502">502</span>
<span id="503">503</span>
<span id="504">504</span>
<span id="505">505</span>
<span id="506">506</span>
<span id="507">507</span>
<span id="508">508</span>
<span id="509">509</span>
<span id="510">510</span>
<span id="511">511</span>
<span id="512">512</span>
<span id="513">513</span>
<span id="514">514</span>
<span id="515">515</span>
<span id="516">516</span>
<span id="517">517</span>
<span id="518">518</span>
<span id="519">519</span>
<span id="520">520</span>
<span id="521">521</span>
<span id="522">522</span>
<span id="523">523</span>
<span id="524">524</span>
<span id="525">525</span>
<span id="526">526</span>
<span id="527">527</span>
<span id="528">528</span>
<span id="529">529</span>
<span id="530">530</span>
<span id="531">531</span>
<span id="532">532</span>
<span id="533">533</span>
<span id="534">534</span>
<span id="535">535</span>
<span id="536">536</span>
<span id="537">537</span>
<span id="538">538</span>
<span id="539">539</span>
<span id="540">540</span>
<span id="541">541</span>
<span id="542">542</span>
<span id="543">543</span>
<span id="544">544</span>
<span id="545">545</span>
<span id="546">546</span>
<span id="547">547</span>
<span id="548">548</span>
<span id="549">549</span>
<span id="550">550</span>
<span id="551">551</span>
<span id="552">552</span>
<span id="553">553</span>
<span id="554">554</span>
<span id="555">555</span>
<span id="556">556</span>
<span id="557">557</span>
<span id="558">558</span>
<span id="559">559</span>
<span id="560">560</span>
<span id="561">561</span>
<span id="562">562</span>
<span id="563">563</span>
<span id="564">564</span>
<span id="565">565</span>
<span id="566">566</span>
<span id="567">567</span>
<span id="568">568</span>
<span id="569">569</span>
<span id="570">570</span>
<span id="571">571</span>
<span id="572">572</span>
<span id="573">573</span>
<span id="574">574</span>
<span id="575">575</span>
<span id="576">576</span>
<span id="577">577</span>
<span id="578">578</span>
<span id="579">579</span>
<span id="580">580</span>
<span id="581">581</span>
<span id="582">582</span>
<span id="583">583</span>
<span id="584">584</span>
<span id="585">585</span>
<span id="586">586</span>
<span id="587">587</span>
<span id="588">588</span>
<span id="589">589</span>
<span id="590">590</span>
<span id="591">591</span>
<span id="592">592</span>
<span id="593">593</span>
<span id="594">594</span>
<span id="595">595</span>
<span id="596">596</span>
<span id="597">597</span>
<span id="598">598</span>
<span id="599">599</span>
<span id="600">600</span>
<span id="601">601</span>
<span id="602">602</span>
<span id="603">603</span>
<span id="604">604</span>
<span id="605">605</span>
<span id="606">606</span>
<span id="607">607</span>
<span id="608">608</span>
<span id="609">609</span>
<span id="610">610</span>
<span id="611">611</span>
<span id="612">612</span>
<span id="613">613</span>
<span id="614">614</span>
<span id="615">615</span>
<span id="616">616</span>
<span id="617">617</span>
<span id="618">618</span>
<span id="619">619</span>
<span id="620">620</span>
<span id="621">621</span>
<span id="622">622</span>
<span id="623">623</span>
<span id="624">624</span>
<span id="625">625</span>
<span id="626">626</span>
<span id="627">627</span>
<span id="628">628</span>
<span id="629">629</span>
<span id="630">630</span>
<span id="631">631</span>
<span id="632">632</span>
<span id="633">633</span>
<span id="634">634</span>
<span id="635">635</span>
<span id="636">636</span>
<span id="637">637</span>
<span id="638">638</span>
<span id="639">639</span>
<span id="640">640</span>
<span id="641">641</span>
<span id="642">642</span>
<span id="643">643</span>
<span id="644">644</span>
<span id="645">645</span>
<span id="646">646</span>
<span id="647">647</span>
<span id="648">648</span>
<span id="649">649</span>
<span id="650">650</span>
<span id="651">651</span>
<span id="652">652</span>
<span id="653">653</span>
<span id="654">654</span>
<span id="655">655</span>
<span id="656">656</span>
<span id="657">657</span>
<span id="658">658</span>
<span id="659">659</span>
<span id="660">660</span>
<span id="661">661</span>
<span id="662">662</span>
<span id="663">663</span>
<span id="664">664</span>
<span id="665">665</span>
<span id="666">666</span>
<span id="667">667</span>
<span id="668">668</span>
<span id="669">669</span>
<span id="670">670</span>
<span id="671">671</span>
<span id="672">672</span>
<span id="673">673</span>
<span id="674">674</span>
<span id="675">675</span>
<span id="676">676</span>
<span id="677">677</span>
<span id="678">678</span>
<span id="679">679</span>
<span id="680">680</span>
<span id="681">681</span>
<span id="682">682</span>
<span id="683">683</span>
<span id="684">684</span>
<span id="685">685</span>
<span id="686">686</span>
<span id="687">687</span>
<span id="688">688</span>
<span id="689">689</span>
<span id="690">690</span>
<span id="691">691</span>
<span id="692">692</span>
<span id="693">693</span>
<span id="694">694</span>
<span id="695">695</span>
<span id="696">696</span>
<span id="697">697</span>
<span id="698">698</span>
<span id="699">699</span>
<span id="700">700</span>
<span id="701">701</span>
<span id="702">702</span>
<span id="703">703</span>
<span id="704">704</span>
<span id="705">705</span>
<span id="706">706</span>
<span id="707">707</span>
<span id="708">708</span>
<span id="709">709</span>
<span id="710">710</span>
<span id="711">711</span>
<span id="712">712</span>
<span id="713">713</span>
<span id="714">714</span>
<span id="715">715</span>
<span id="716">716</span>
<span id="717">717</span>
<span id="718">718</span>
<span id="719">719</span>
<span id="720">720</span>
<span id="721">721</span>
<span id="722">722</span>
<span id="723">723</span>
<span id="724">724</span>
<span id="725">725</span>
<span id="726">726</span>
<span id="727">727</span>
<span id="728">728</span>
<span id="729">729</span>
<span id="730">730</span>
<span id="731">731</span>
<span id="732">732</span>
<span id="733">733</span>
<span id="734">734</span>
<span id="735">735</span>
<span id="736">736</span>
<span id="737">737</span>
<span id="738">738</span>
<span id="739">739</span>
<span id="740">740</span>
<span id="741">741</span>
<span id="742">742</span>
<span id="743">743</span>
<span id="744">744</span>
<span id="745">745</span>
<span id="746">746</span>
<span id="747">747</span>
<span id="748">748</span>
<span id="749">749</span>
<span id="750">750</span>
<span id="751">751</span>
<span id="752">752</span>
<span id="753">753</span>
<span id="754">754</span>
<span id="755">755</span>
<span id="756">756</span>
<span id="757">757</span>
<span id="758">758</span>
<span id="759">759</span>
<span id="760">760</span>
<span id="761">761</span>
<span id="762">762</span>
<span id="763">763</span>
<span id="764">764</span>
<span id="765">765</span>
<span id="766">766</span>
<span id="767">767</span>
</pre><pre class='rust '>
<span class='doccomment'>//! Window manager functionality defined as traits</span>
<span class='doccomment'>//!</span>
<span class='doccomment'>//! This module defines a number of traits, each corresponding to an</span>
<span class='doccomment'>//! assignment. Every window manager must at least implement the</span>
<span class='doccomment'>//! `WindowManager` trait.</span>
<span class='doccomment'>//!</span>
<span class='doccomment'>//! # Interaction Between Traits</span>
<span class='doccomment'>//!</span>
<span class='doccomment'>//! When writing a window manager that implements multiple traits, e.g.,</span>
<span class='doccomment'>//! [`TilingSupport`] and [`FloatSupport`], take care of the interaction</span>
<span class='doccomment'>//! between the traits. For example, when calling `swap_with_master` (from the</span>
<span class='doccomment'>//! [`TilingSupport`] trait) with a window that is currently floating</span>
<span class='doccomment'>//! ([`FloatSupport`]), a possible thing to do is to tile the window first and</span>
<span class='doccomment'>//! then swap it with the master window. Or when calling `toggle_floating`</span>
<span class='doccomment'>//! with a minimised window ([`MinimiseSupport`]), unminimise it first before</span>
<span class='doccomment'>//! floating it. Try to make reasonable and consistent choices when it comes</span>
<span class='doccomment'>//! to these edge cases (keep the listed invariants in mind). Document them</span>
<span class='doccomment'>//! and write test cases for them.</span>
<span class='doccomment'>//!</span>
<span class='doccomment'>//! [`TilingSupport`]: trait.TilingSupport.html</span>
<span class='doccomment'>//! [`FloatSupport`]: trait.FloatSupport.html</span>
<span class='doccomment'>//! [`MinimiseSupport`]: trait.MinimiseSupport.html</span>

<span class='kw'>use</span> <span class='ident'>rustc_serialize</span>::{<span class='ident'>Decodable</span>, <span class='ident'>Encodable</span>};
<span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>error</span>;
<span class='kw'>use</span> <span class='ident'>std</span>::<span class='ident'>fmt</span>::<span class='ident'>Debug</span>;

<span class='kw'>use</span> <span class='ident'>types</span>::{<span class='ident'>GapSize</span>, <span class='ident'>Geometry</span>, <span class='ident'>PrevOrNext</span>, <span class='ident'>Screen</span>, <span class='ident'>Window</span>, <span class='ident'>WindowLayout</span>, <span class='ident'>WindowWithInfo</span>,
            <span class='ident'>WorkspaceIndex</span>};

<span class='doccomment'>/// A basic window manager.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Every window manager defined by a struct or enum representing its state,</span>
<span class='doccomment'>/// must implement this trait.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// # Supertraits</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Note what comes after `WindowManager:`, `Encodable + Decodable + Debug +</span>
<span class='doccomment'>/// Clone`. These are the “supertraits” of `WindowManager`: to implement this</span>
<span class='doccomment'>/// trait, these four other traits must be implemented as well.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ## Encodable and Decodable</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The first two, `Encodable` and `Decodable`, indicate that it should be</span>
<span class='doccomment'>/// possible to serialise and deserialise a window manager. This functionality</span>
<span class='doccomment'>/// is used in the backends, which allow reloading a live window manager</span>
<span class='doccomment'>/// without losing its state. This is useful during development: one can</span>
<span class='doccomment'>/// easily switch to a newly compiled version of the window manager without</span>
<span class='doccomment'>/// losing all the state. Before reloading, the whole window manager is</span>
<span class='doccomment'>/// serialised to JSON which is written to `/tmp`. The window manager is then</span>
<span class='doccomment'>/// restarted from scratch. During startup, the window manager tries to read</span>
<span class='doccomment'>/// this JSON, deserialises it and uses the result as the window manager,</span>
<span class='doccomment'>/// including all the state instead of a new empty window manager. Windows</span>
<span class='doccomment'>/// that have been added or removed since the state was saved will be added</span>
<span class='doccomment'>/// and removed to/from the restored window manager.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// All this is taken care of in the backend, so the only thing you have to do</span>
<span class='doccomment'>/// is make sure your window manager is `Encodable` and `Decodable`. Lucky for</span>
<span class='doccomment'>/// you, this traits can be derived *automatically* using the `derive`</span>
<span class='doccomment'>/// annotation.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// For example:</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>/// #[derive(RustcEncodable, RustcDecodable, ...)]</span>
<span class='doccomment'>/// pub struct MyWM {</span>
<span class='doccomment'>///     ...</span>
<span class='doccomment'>/// }</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// In the example, a struct `MyWM` with some fields is defined. The `derive`</span>
<span class='doccomment'>/// annotation on the struct will implement both interfaces automatically for</span>
<span class='doccomment'>/// you. In order for this to work, every field of the struct must implement</span>
<span class='doccomment'>/// these interfaces too. Most basic types available in Rust (`i32`, `Vec`,</span>
<span class='doccomment'>/// ...) already implement this, but if you define additional structs, you</span>
<span class='doccomment'>/// also have to put the same annotation on them.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Note that you can also implement these traits manually, but this will be a</span>
<span class='doccomment'>/// lot more work.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ## Debug</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The `Debug` trait is used to convert a window manager to a string</span>
<span class='doccomment'>/// representation to print it during development, in test output or when</span>
<span class='doccomment'>/// tracing.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// This trait can also be derived automatically using `#[derive(Debug)]`.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ## Clone</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The `Clone` is used to make a clone of a window manager.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// This trait can also be derived automatically using `#[derive(Clone)]`.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ## In Summary</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The example below demonstrates that you can implement these four traits</span>
<span class='doccomment'>/// using one line of code:</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>/// #[derive(RustcEncodable, RustcDecodable, Debug, Clone)]</span>
<span class='doccomment'>/// pub struct MyWM {</span>
<span class='doccomment'>///     ...</span>
<span class='doccomment'>/// }</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// You also have to make sure that every type you use in the definition of</span>
<span class='doccomment'>/// your window manager struct (or enum) also implements these four traits.</span>
<span class='kw'>pub</span> <span class='kw'>trait</span> <span class='ident'>WindowManager</span>: <span class='ident'>Encodable</span> <span class='op'>+</span> <span class='ident'>Decodable</span> <span class='op'>+</span> <span class='ident'>Debug</span> <span class='op'>+</span> <span class='ident'>Clone</span> {
    <span class='doccomment'>/// The type of the errors of the window manager.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// You can define your own enum with different types of errors you window</span>
    <span class='doccomment'>/// manager can return. Many functions of this trait will return a</span>
    <span class='doccomment'>/// `Result&lt;(), Self::Error&gt;`: either an `Ok(())`, meaning that everything</span>
    <span class='doccomment'>/// went ok, or an `Err(err)` where `err` is of this `Error` type, meaning</span>
    <span class='doccomment'>/// that an error occurred.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// Note the two “supertraits” your error type must implement:</span>
    <span class='doccomment'>/// [`error::Error`](https://doc.rust-lang.org/std/error/trait.Error.html)</span>
    <span class='doccomment'>/// and `&#39;static`. The first is the base trait for all Rust errors, click</span>
    <span class='doccomment'>/// on it to see the methods you must implement. This trait also has three</span>
    <span class='doccomment'>/// “supertraits”:</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// * `Debug`: a `toString`-like method for debugging that can be derived</span>
    <span class='doccomment'>///   automatically using `#[derive(Debug, ...)]`.</span>
    <span class='doccomment'>/// * `Display`: a `toString`-like method that will be used to show error</span>
    <span class='doccomment'>///   to users (as opposed to developers). This method has to be manually</span>
    <span class='doccomment'>///   implemented.</span>
    <span class='doccomment'>/// * `Reflect`: you can safely ignore this.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// The second trait is not an actual trait, but a constraint that says</span>
    <span class='doccomment'>/// that your error must be static and should not contain any references</span>
    <span class='doccomment'>/// with a limited</span>
    <span class='doccomment'>/// [lifetime](https://doc.rust-lang.org/book/lifetimes.html). In other</span>
    <span class='doccomment'>/// words, your error type may not contain any type `&amp;&#39;a T`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// # Examples</span>
    <span class='doccomment'>/// ```</span>
    <span class='doccomment'>/// /// Error type for my window manager</span>
    <span class='doccomment'>/// #[derive(Debug)]  // Implement `Debug` automatically</span>
    <span class='doccomment'>/// pub enum MyWMError {</span>
    <span class='doccomment'>///     /// This window is not known by the window.</span>
    <span class='doccomment'>///     UnknownWindow(Window),</span>
    <span class='doccomment'>///     // Feel free to add more</span>
    <span class='doccomment'>///     ...</span>
    <span class='doccomment'>/// }</span>
    <span class='doccomment'>/// // Manually implement the `Display` trait.</span>
    <span class='doccomment'>/// use std::fmt;</span>
    <span class='doccomment'>/// impl fmt::Display for MyWMError {</span>
    <span class='doccomment'>///     fn fmt(&amp;self, f: &amp;mut fmt::Formatter) -&gt; fmt::Result {</span>
    <span class='doccomment'>///         match *self {</span>
    <span class='doccomment'>///             MyWMError::UnknownWindow(ref window) =&gt;</span>
    <span class='doccomment'>///                 write!(f, &quot;Unknown window: {}&quot;, window),</span>
    <span class='doccomment'>///             ...</span>
    <span class='doccomment'>///         }</span>
    <span class='doccomment'>///     }</span>
    <span class='doccomment'>/// }</span>
    <span class='doccomment'>/// // Now implement the `Error` trait.</span>
    <span class='doccomment'>/// use std::error;</span>
    <span class='doccomment'>/// impl error::Error for MyWMError {</span>
    <span class='doccomment'>///     fn description(&amp;self) -&gt; &amp;&#39;static str {</span>
    <span class='doccomment'>///         match *self {</span>
    <span class='doccomment'>///             // Because we must return a `&amp;&#39;static str`, we can&#39;t</span>
    <span class='doccomment'>///             // include the window in it, because that creates a</span>
    <span class='doccomment'>///             // `String`.</span>
    <span class='doccomment'>///             MyWMError::UnknownWindow(_) =&gt; &quot;Unknown window&quot;,</span>
    <span class='doccomment'>///         }</span>
    <span class='doccomment'>///     }</span>
    <span class='doccomment'>/// }</span>
    <span class='doccomment'>/// // We can now use `MyWMError` as the `Error` type of the `MyWM` window</span>
    <span class='doccomment'>/// // manager.</span>
    <span class='doccomment'>/// impl WindowManager for MyWM {</span>
    <span class='doccomment'>///     type Error = MyWMError;</span>
    <span class='doccomment'>///     ...</span>
    <span class='doccomment'>/// }</span>
    <span class='doccomment'>/// ```</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// Note that you can use the same error type in multiple window managers.</span>
    <span class='kw'>type</span> <span class='ident'>Error</span>: <span class='ident'>error</span>::<span class='ident'>Error</span> <span class='op'>+</span> <span class='lifetime'>&#39;static</span>;

    <span class='doccomment'>/// The constructor of a window manager.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// The sole argument is the `Screen`, useful to determine the size of</span>
    <span class='doccomment'>/// fullscreen windows or to center a window.</span>
    <span class='kw'>fn</span> <span class='ident'>new</span>(<span class='ident'>screen</span>: <span class='ident'>Screen</span>) <span class='op'>-&gt;</span> <span class='self'>Self</span>;

    <span class='doccomment'>/// Return the current desired window layout.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// For more information about this, see the assignment and the</span>
    <span class='doccomment'>/// documentation for [`WindowLayout`](../types/struct.WindowLayout.html).</span>
    <span class='kw'>fn</span> <span class='ident'>get_window_layout</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='ident'>WindowLayout</span>;

    <span class='doccomment'>/// Check whether a window is managed by this window manager.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: `is_managed(w) == true` for some window `w` iff the</span>
    <span class='doccomment'>/// vector returned by the `get_windows` method contains `w`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// A default implementation is provided in terms of `get_windows`.</span>
    <span class='doccomment'>/// Override this implementation if you have a more efficient one.</span>
    <span class='kw'>fn</span> <span class='ident'>is_managed</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>, <span class='ident'>window</span>: <span class='ident'>Window</span>) <span class='op'>-&gt;</span> <span class='ident'>bool</span> {
        <span class='self'>self</span>.<span class='ident'>get_windows</span>().<span class='ident'>contains</span>(<span class='kw-2'>&amp;</span><span class='ident'>window</span>)
    }

    <span class='doccomment'>/// Return a vector of all the windows managed by the window manager,</span>
    <span class='doccomment'>/// visible or not.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// The order of the windows in the vector does not matter.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: `get_windows()` must not contain duplicates.</span>
    <span class='kw'>fn</span> <span class='ident'>get_windows</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='ident'>Vec</span><span class='op'>&lt;</span><span class='ident'>Window</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Return the window that is currently focused according to the window</span>
    <span class='doccomment'>/// manager.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// If no window should be focused, return `None`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: `get_focused_window() ==</span>
    <span class='doccomment'>/// get_window_layout().focused_window`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: `get_focused_window() == Some(w)` then `is_managed(w)</span>
    <span class='doccomment'>/// == true`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// A default implementation is provided in terms of `get_window_layout`</span>
    <span class='doccomment'>/// and its `focused_window` field. Override this implementation if you</span>
    <span class='doccomment'>/// have a more efficient one.</span>
    <span class='kw'>fn</span> <span class='ident'>get_focused_window</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Option</span><span class='op'>&lt;</span><span class='ident'>Window</span><span class='op'>&gt;</span> {
        <span class='self'>self</span>.<span class='ident'>get_window_layout</span>().<span class='ident'>focused_window</span>
    }

    <span class='doccomment'>/// Add a new window along with its information, e.g. its `Geometry`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This is called whenever a new window is created.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: `is_managed` must return true for the given window</span>
    <span class='doccomment'>/// after `add_window` was called with the given window.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: after adding a window using `add_window`, it must be</span>
    <span class='doccomment'>/// focused according to `get_focused_window`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// A window manager that implements</span>
    <span class='doccomment'>/// [`FloatSupport`](trait.FloatSupport.html) should float the window when</span>
    <span class='doccomment'>/// the `float_or_tile` field of `WindowWithInfo` is set to `Float`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// A window manager that implements</span>
    <span class='doccomment'>/// [`FullscreenSupport`](trait.FullscreenSupport.html) should make the</span>
    <span class='doccomment'>/// window fullscreen when the `fullscreen` field of `WindowWithInfo` is</span>
    <span class='doccomment'>/// set to `true`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function is *allowed* to return an appropriate error when the</span>
    <span class='doccomment'>/// window is already managed by the window manager.</span>
    <span class='kw'>fn</span> <span class='ident'>add_window</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>window_with_info</span>: <span class='ident'>WindowWithInfo</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Remove the given window from the window manager.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This is called whenever a window is destroyed/killed.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// The same window remains focused, unless the focused window has been</span>
    <span class='doccomment'>/// removed.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: `is_managed` must return false for the given window</span>
    <span class='doccomment'>/// after `remove_window` was called with the given window.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function is *allowed* to return an appropriate error when the</span>
    <span class='doccomment'>/// window is not managed by the window manager.</span>
    <span class='kw'>fn</span> <span class='ident'>remove_window</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>window</span>: <span class='ident'>Window</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Focus the given window, or when passed `None`, focus nothing.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This is called when the user clicks or hovers on(to) a window, or</span>
    <span class='doccomment'>/// changes the focus using the keyboard.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: when `focus_window` succeeds, `get_focused_window` must</span>
    <span class='doccomment'>/// return the same argument.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function is *allowed* to return an appropriate error when the</span>
    <span class='doccomment'>/// window is not managed by the window manager.</span>
    <span class='kw'>fn</span> <span class='ident'>focus_window</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>window</span>: <span class='prelude-ty'>Option</span><span class='op'>&lt;</span><span class='ident'>Window</span><span class='op'>&gt;</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Focus the previous or next window.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// Do nothing when there are no windows. When there is only one window,</span>
    <span class='doccomment'>/// focus it if currently no window is focused, otherwise do nothing.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// When no window is focused, any window may become focused.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// Cycling the focus back and forth shouldn&#39;t change the focused window.</span>
    <span class='kw'>fn</span> <span class='ident'>cycle_focus</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>dir</span>: <span class='ident'>PrevOrNext</span>);

    <span class='doccomment'>/// Get the info (`WindowWithInfo`) belonging to the given window. It</span>
    <span class='doccomment'>/// should reflect the current state (location/size, floating or tiled,</span>
    <span class='doccomment'>/// fullscreen or not) of the window.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This method will come in handy when implementing later assignments by</span>
    <span class='doccomment'>/// defining wrappers around existing window managers.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function *should* return an appropriate error when the window is</span>
    <span class='doccomment'>/// not managed by the window manager.</span>
    <span class='kw'>fn</span> <span class='ident'>get_window_info</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>, <span class='ident'>window</span>: <span class='ident'>Window</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span><span class='ident'>WindowWithInfo</span>, <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Return the screen managed by the window manager.</span>
    <span class='kw'>fn</span> <span class='ident'>get_screen</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='ident'>Screen</span>;

    <span class='doccomment'>/// Resize the screen according to the given `Screen`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This is called whenever the resolution of the screen is changed.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// Note that we do not support multiple monitors.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: after `resize_screen` is called with a screen,</span>
    <span class='doccomment'>/// `get_screen()` must return the same screen.</span>
    <span class='kw'>fn</span> <span class='ident'>resize_screen</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>screen</span>: <span class='ident'>Screen</span>);
}

<span class='doccomment'>/// A window manager that supports *tiling*.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The idea of *tiling* is explained in the assignment. While most tiling</span>
<span class='doccomment'>/// window managers have many possible layouts to (dynamically) choose from,</span>
<span class='doccomment'>/// we limit ourselves to one simple layout here. In an optional assignment</span>
<span class='doccomment'>/// you will be asked to implement a different layout algorithm.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// # Layout algorithm</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// This window manager follows the following the tiling layout: we start out</span>
<span class='doccomment'>/// with no windows. When the first window is added, the window is maximised</span>
<span class='doccomment'>/// as in the ASCII diagram below.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>/// +---------------------+</span>
<span class='doccomment'>/// |                     |</span>
<span class='doccomment'>/// |                     |</span>
<span class='doccomment'>/// |          1          |</span>
<span class='doccomment'>/// |                     |</span>
<span class='doccomment'>/// |                     |</span>
<span class='doccomment'>/// +---------------------+</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// When a second window is added, the screen is split in two tiles: a left</span>
<span class='doccomment'>/// tile for window 1 and a right tile for window 2.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>/// +----------+----------+</span>
<span class='doccomment'>/// |          |          |</span>
<span class='doccomment'>/// |          |          |</span>
<span class='doccomment'>/// |    1     |    2     |</span>
<span class='doccomment'>/// |          |          |</span>
<span class='doccomment'>/// |          |          |</span>
<span class='doccomment'>/// +----------+----------+</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// When a third window is added, the right tile will split in two tiles: a</span>
<span class='doccomment'>/// top tile for window 2 and a bottom tile for window 3.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>/// +---------------------+</span>
<span class='doccomment'>/// |          |          |</span>
<span class='doccomment'>/// |          |    2     |</span>
<span class='doccomment'>/// |    1     +----------+</span>
<span class='doccomment'>/// |          |          |</span>
<span class='doccomment'>/// |          |    3     |</span>
<span class='doccomment'>/// +----------+----------+</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The left tile will never be split, we call this the *master tile*. The</span>
<span class='doccomment'>/// user typically places his/her main application in this tile, e.g., the</span>
<span class='doccomment'>/// browser or editor. Additional windows, e.g. a terminal, a file manager, or</span>
<span class='doccomment'>/// a chat window are displayed in the side tiles. Note that even when the</span>
<span class='doccomment'>/// master tile is focused, new windows will not appear in the master tile,</span>
<span class='doccomment'>/// but in a new side tile.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// When a fourth window is added, an additional tile is created on the right</span>
<span class='doccomment'>/// side and the new window is placed in the bottom tile.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>/// +----------+----------+</span>
<span class='doccomment'>/// |          |    2     |</span>
<span class='doccomment'>/// |          +----------+</span>
<span class='doccomment'>/// |    1     |    3     |</span>
<span class='doccomment'>/// |          +----------+</span>
<span class='doccomment'>/// |          |    4     |</span>
<span class='doccomment'>/// +----------+----------+</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// When window 2, 3, or 4 is closed, the corresponding tile disappears and we</span>
<span class='doccomment'>/// go back to the previous layout. When window 1 is closed, the first side</span>
<span class='doccomment'>/// window (2) is chosen to be displayed in the master tile. The promoted</span>
<span class='doccomment'>/// window&#39;s previous tile disappears.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// **Invariant**: at all times there must be as many tiles as there are</span>
<span class='doccomment'>/// visible windows. Note that this will not hold when there are floating</span>
<span class='doccomment'>/// ([`FloatSupport`](trait.FloatSupport.html)) or minimised windows</span>
<span class='doccomment'>/// ([`MinimiseSupport`](trait.MinimiseSupport.html)).</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// # How to implement it</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// This trait contains some useful methods to move around windows. It is not</span>
<span class='doccomment'>/// sufficient to implement these methods, the actual tiling logic happens</span>
<span class='doccomment'>/// when windows are added or removed, and in `get_window_layout`.</span>
<span class='doccomment'>/// Consequently, you must change the appropriate implementations of the</span>
<span class='doccomment'>/// methods of the `WindowManager` trait to take care of tiling.</span>
<span class='kw'>pub</span> <span class='kw'>trait</span> <span class='ident'>TilingSupport</span>: <span class='ident'>WindowManager</span> {
    <span class='doccomment'>/// Return the window displayed in the master tile.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// If there are no windows, return `None`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: `get_master_window() == Some(w)`, then `w` must occur</span>
    <span class='doccomment'>/// in the vector returned by `get_windows()`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if the vector returned by `get_windows()` is empty =&gt;</span>
    <span class='doccomment'>/// `get_master_window() == None`. The other direction of the arrow must</span>
    <span class='doccomment'>/// not hold, e.g., there could floating windows (see `FloatSupport`), but</span>
    <span class='doccomment'>/// no tiled windows.</span>
    <span class='doccomment'>///</span>
    <span class='kw'>fn</span> <span class='ident'>get_master_window</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Option</span><span class='op'>&lt;</span><span class='ident'>Window</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Swap the given window with the window in the master tile.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// After the function has succeeded, the master window should be focused.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// If the given window is already in the master tile, no windows have to</span>
    <span class='doccomment'>/// be swapped, but the master window should be focused.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if `swap_with_master(w)` succeeds, `get_master_window()</span>
    <span class='doccomment'>/// == Some(w)`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function is *allowed* to return an appropriate error when the</span>
    <span class='doccomment'>/// window is not managed by the window manager.</span>
    <span class='kw'>fn</span> <span class='ident'>swap_with_master</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>window</span>: <span class='ident'>Window</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Swap the focused window with the one in the next or previous tile.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// Do nothing when there are no windows, when there is only one window,</span>
    <span class='doccomment'>/// or when no window is focused.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// If there were two tiles and the swap happened, the same window will be</span>
    <span class='doccomment'>/// focused, but the other tile will be focused.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: calling `swap_windows(dir)` for any `dir` will not</span>
    <span class='doccomment'>/// change the focused window, even if no window was focused.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: calling `swap_windows(dir)` and then</span>
    <span class='doccomment'>/// `swap_windows(dir.opposite())` will not change the window layout.</span>
    <span class='kw'>fn</span> <span class='ident'>swap_windows</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>dir</span>: <span class='ident'>PrevOrNext</span>);
}

<span class='doccomment'>/// A window manager that supports floating windows.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Some windows are not suitable for *tiling*, e.g. dialogs, popups, video,</span>
<span class='doccomment'>/// etc. Instead of tiling them, they should *float* above the tiled windows.</span>
<span class='doccomment'>/// Floating windows can be moved around and resized with the mouse.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The backend will detect that some windows should float from the start and</span>
<span class='doccomment'>/// will set the `float_or_tile` field of `WindowWithInfo` to `Float` in these</span>
<span class='doccomment'>/// cases. A window manager implementing this trait should implement the</span>
<span class='doccomment'>/// `add_window` method of `WindowManager` such that these windows will float</span>
<span class='doccomment'>/// after adding them.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The user can choose to *float* any tiled window or to *sink* (make it</span>
<span class='doccomment'>/// tiled again) any floating window.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// **Invariant**: every floating window `w` (`is_floating(w) == true`) must</span>
<span class='doccomment'>/// be placed above the tiled windows in the window layout returned by</span>
<span class='doccomment'>/// `get_window_layout()`.</span>
<span class='kw'>pub</span> <span class='kw'>trait</span> <span class='ident'>FloatSupport</span>: <span class='ident'>WindowManager</span> {
    <span class='doccomment'>/// Return a vector of all the visible floating windows.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// The order of the windows in the vector does not matter.</span>
    <span class='kw'>fn</span> <span class='ident'>get_floating_windows</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='ident'>Vec</span><span class='op'>&lt;</span><span class='ident'>Window</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Return true if the given window is floating.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function must always return false when the given window is not</span>
    <span class='doccomment'>/// managed by the window manager.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if `is_floating(w) == true` for some window `w`, then</span>
    <span class='doccomment'>/// `is_managed(w) == true`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: `is_floating(w) == true` for some window `w`, iff the</span>
    <span class='doccomment'>/// vector returned by the `get_floating_windows` method contains `w`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// A default implementation is provided in terms of</span>
    <span class='doccomment'>/// `get_floating_windows()`. Override this implementation if you have a</span>
    <span class='doccomment'>/// more efficient one.</span>
    <span class='kw'>fn</span> <span class='ident'>is_floating</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>, <span class='ident'>window</span>: <span class='ident'>Window</span>) <span class='op'>-&gt;</span> <span class='ident'>bool</span> {
        <span class='self'>self</span>.<span class='ident'>get_floating_windows</span>().<span class='ident'>contains</span>(<span class='kw-2'>&amp;</span><span class='ident'>window</span>)
    }

    <span class='doccomment'>/// If the given window is floating, let it *sink*, if it is not floating,</span>
    <span class='doccomment'>/// let it *float*.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// When a non-floating window starts to float, its original geometry</span>
    <span class='doccomment'>/// (passed to `add_window`) should be restored.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if calling `toggle_floating(w)` with a tiled window `w`</span>
    <span class='doccomment'>/// succeeds, `is_floating(w)` must return `true`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if calling `toggle_floating(w)` with a floating window</span>
    <span class='doccomment'>/// `w` succeeds, `is_floating(w)` must return `false`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: the result of `is_floating(w)` must be the same before</span>
    <span class='doccomment'>/// and after calling `toggle_floating(w)` twice.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function is *allowed* to return an appropriate error when the</span>
    <span class='doccomment'>/// window is not managed by the window manager.</span>
    <span class='kw'>fn</span> <span class='ident'>toggle_floating</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>window</span>: <span class='ident'>Window</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Resize/move the given floating window according to the given geometry.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function is called when the user moves or resizes a window using</span>
    <span class='doccomment'>/// the mouse, but can also be called by custom user commands.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// The window layout should reflect the geometry change of the floating</span>
    <span class='doccomment'>/// window.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function is *allowed* to return an appropriate error when the</span>
    <span class='doccomment'>/// window is not managed by the window manager *or* when the window is</span>
    <span class='doccomment'>/// not floating.</span>
    <span class='kw'>fn</span> <span class='ident'>set_window_geometry</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>,
                           <span class='ident'>window</span>: <span class='ident'>Window</span>,
                           <span class='ident'>new_geometry</span>: <span class='ident'>Geometry</span>)
                           <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;
}

<span class='doccomment'>/// A window manager that supports (un)minimising windows.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Remember that a tiling window manager displays each window in a different</span>
<span class='doccomment'>/// tile. So when you have opened ten applications, the screen will be split</span>
<span class='doccomment'>/// in ten tiles. Sometimes you want to open an application without having to</span>
<span class='doccomment'>/// look at it the whole time</span>
<span class='doccomment'>/// ([`MultiWorkspaceSupport`](trait.MultiWorkspaceSupport.html) is also</span>
<span class='doccomment'>/// useful for this scenario). In that case, *minimising* the window is the</span>
<span class='doccomment'>/// solution: you can temporarily hide the window and regain the screen space</span>
<span class='doccomment'>/// without having to close the window.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Naturally, there is also a way to reveal these windows again by</span>
<span class='doccomment'>/// *unminimising* them.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// **Note**: methods of other traits like `focus_window`, `focus_window`,</span>
<span class='doccomment'>/// `toggle_fullscreen`, ... called with a minimised window as argument should</span>
<span class='doccomment'>/// first unminimise the window.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// **Hint**: you can use `remove_window` and `add_window` to hide and reveal</span>
<span class='doccomment'>/// windows.</span>
<span class='kw'>pub</span> <span class='kw'>trait</span> <span class='ident'>MinimiseSupport</span>: <span class='ident'>WindowManager</span> {
    <span class='doccomment'>/// Return a vector of all the minimised windows.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// The order of the windows in the vector *does* matter.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// The windows must occur in the order they were minimised: the window</span>
    <span class='doccomment'>/// that was minimised first must occur first in the vector, the window</span>
    <span class='doccomment'>/// that was minimised last must occur last. This makes it easy to define</span>
    <span class='doccomment'>/// a function that unminimises the last minimised window.</span>
    <span class='kw'>fn</span> <span class='ident'>get_minimised_windows</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='ident'>Vec</span><span class='op'>&lt;</span><span class='ident'>Window</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Return `true` if the given window is minimised.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function must always return false when the given window is not</span>
    <span class='doccomment'>/// managed by the window manager.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if `is_minimised(w) == true` for some window `w`, then</span>
    <span class='doccomment'>/// `is_managed(w) == true`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: `is_minimised(w) == true` for some window `w`, iff the</span>
    <span class='doccomment'>/// vector returned by the `get_minised_windows` method contains `w`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// A default implementation is provided in terms of</span>
    <span class='doccomment'>/// `get_minimised_windows()`. Override this implementation if you have a</span>
    <span class='doccomment'>/// more efficient one.</span>
    <span class='kw'>fn</span> <span class='ident'>is_minimised</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>, <span class='ident'>window</span>: <span class='ident'>Window</span>) <span class='op'>-&gt;</span> <span class='ident'>bool</span> {
        <span class='self'>self</span>.<span class='ident'>get_minimised_windows</span>().<span class='ident'>contains</span>(<span class='kw-2'>&amp;</span><span class='ident'>window</span>)
    }

    <span class='doccomment'>/// Minimise the given window, or when it is already minimised, unminise</span>
    <span class='doccomment'>/// it.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// When a minimised floating window is unminimised, it should float again</span>
    <span class='doccomment'>/// and have the same geometry as before. Hint: you could use the</span>
    <span class='doccomment'>/// `float_or_tile` field of `WindowWithInfo`. Analogously for fullscreen</span>
    <span class='doccomment'>/// windows.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if calling `toggle_minimised(w)` with an unminimised</span>
    <span class='doccomment'>/// window `w` succeeds, `w` may no longer be visible according to</span>
    <span class='doccomment'>/// `get_window_layout` and `is_minimised(w)` must return `true`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if calling `toggle_minimised(w)` with an already</span>
    <span class='doccomment'>/// minimised window `w` succeeds, `w` must be visible according to</span>
    <span class='doccomment'>/// `get_window_layout` and `is_minimised(w)` must return `false`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// The window layout before and after minimising and directly</span>
    <span class='doccomment'>/// unminimising the currently focused window should be the same. This</span>
    <span class='doccomment'>/// cannot hold for a window manager that implements</span>
    <span class='doccomment'>/// [`TilingSupport`](trait.TilingSupport.html). Try to figure out why.</span>
    <span class='kw'>fn</span> <span class='ident'>toggle_minimised</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>window</span>: <span class='ident'>Window</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;
}

<span class='doccomment'>/// A window manager that supports fullscreen windows.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Users wishing to watch a video fullscreen, to play a game fullscreen, or</span>
<span class='doccomment'>/// to view any application fullscreen, can make any window become fullscreen</span>
<span class='doccomment'>/// using this trait.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// There can at most one window be fullscreen at a time.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The backend will detect that some windows want to be fullscreen from the</span>
<span class='doccomment'>/// start and will set the `fullscreen` field of `WindowWithInfo` to `true` in</span>
<span class='doccomment'>/// these cases. A window manager implementing this trait should implement the</span>
<span class='doccomment'>/// `add_window` method of `WindowManager` such that these windows will be</span>
<span class='doccomment'>/// fullscreen after adding them.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// A user can make any window fullscreen by using the `toggle_fullscreen`.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Think carefully about the interaction between a fullscreen window and the</span>
<span class='doccomment'>/// other traits: when an action is performed on a fullscreen window, should</span>
<span class='doccomment'>/// it stop being fullscreen? What when an action is performed on another</span>
<span class='doccomment'>/// window which is not the fullscreen one? In some cases it might make sense</span>
<span class='doccomment'>/// to keep the window fullscreen (e.g., when another window is removed), in</span>
<span class='doccomment'>/// some cases maybe not (e.g., when a non-fullscreen window is added). Try to</span>
<span class='doccomment'>/// make reasonable and consistent choices (keep the invariants of this *and*</span>
<span class='doccomment'>/// the other traits in mind). Document the choices and write test cases for</span>
<span class='doccomment'>/// them.</span>
<span class='kw'>pub</span> <span class='kw'>trait</span> <span class='ident'>FullscreenSupport</span>: <span class='ident'>WindowManager</span> {
    <span class='doccomment'>/// Return the current fullscreen, if any.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if `get_fullscreen_window() == Some(w)`, then</span>
    <span class='doccomment'>/// `is_managed(w) == true`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if `get_fullscreen_window() == Some(w)`, then</span>
    <span class='doccomment'>/// `get_focused_window() == Some(w)`.</span>
    <span class='kw'>fn</span> <span class='ident'>get_fullscreen_window</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Option</span><span class='op'>&lt;</span><span class='ident'>Window</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Make the given window fullscreen, or when it is already fullscreen,</span>
    <span class='doccomment'>/// undo it.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// When called on a window that is already fullscreen, it should restore</span>
    <span class='doccomment'>/// the window to the state before, e.g. float at the same place.</span>
    <span class='doccomment'>/// **Hint**: you could use the `float_or_tile` field of `WindowWithInfo`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: if calling `toggle_fullscreen(w)` with a window `w`</span>
    <span class='doccomment'>/// that is not yet fullscreen, `w` should be the only visible window</span>
    <span class='doccomment'>/// according to `get_window_layout`, its geometry should be the same size</span>
    <span class='doccomment'>/// as the screen, and `get_fullscreen_window(w) == Some(w)`.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// The window layout before and after calling `toggle_fullscreen` twice</span>
    <span class='doccomment'>/// with the currently focused should be the same. This cannot hold for a</span>
    <span class='doccomment'>/// window manager that implements</span>
    <span class='doccomment'>/// [`TilingSupport`](trait.TilingSupport.html). Try to figure out why.</span>
    <span class='kw'>fn</span> <span class='ident'>toggle_fullscreen</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>window</span>: <span class='ident'>Window</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;
}

<span class='doccomment'>/// A window manager that supports gaps between tiles.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The user can configure the gap size at run-time. The gaps are only shown</span>
<span class='doccomment'>/// between tiled windows. Floating windows and the fullscreen window are</span>
<span class='doccomment'>/// unaffected. Initially the gap is 0.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// For example the user has the following tiles:</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>/// +----------+----------+</span>
<span class='doccomment'>/// |          |          |</span>
<span class='doccomment'>/// |          |          |</span>
<span class='doccomment'>/// |    1     |    2     |</span>
<span class='doccomment'>/// |          |          |</span>
<span class='doccomment'>/// |          |          |</span>
<span class='doccomment'>/// +----------+----------+</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// When the gap is set to 5, it is as if every window gets an invisible 5</span>
<span class='doccomment'>/// pixel border of empty space. Windows don&#39;t share the gap in between them.</span>
<span class='doccomment'>/// Every tiled window is moved 5 pixels down and to 5 pixels to the right.</span>
<span class='doccomment'>/// The width and height of every tiled window is also shrunk by 10 pixels.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>/// +---------------------+</span>
<span class='doccomment'>/// |+--------+ +--------+|</span>
<span class='doccomment'>/// ||        | |        ||</span>
<span class='doccomment'>/// ||    1   | |   2    ||</span>
<span class='doccomment'>/// ||        | |        ||</span>
<span class='doccomment'>/// |+--------+ +--------+|</span>
<span class='doccomment'>/// +---------------------+</span>
<span class='doccomment'>/// ```</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Even when there is only a single tile there should be a gap around it.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// You may ignore scenarios in which the gap size is so large that one of the</span>
<span class='doccomment'>/// windows might become invisible.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Implementors of this trait must adapt their implementation of the</span>
<span class='doccomment'>/// `get_window_layout()` method accordingly.</span>
<span class='kw'>pub</span> <span class='kw'>trait</span> <span class='ident'>GapSupport</span>: <span class='ident'>WindowManager</span> {
    <span class='doccomment'>/// Return the current gap size.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// Initially 0.</span>
    <span class='kw'>fn</span> <span class='ident'>get_gap</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='ident'>GapSize</span>;

    <span class='doccomment'>/// Set the gap size.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: after setting `set_gap(g)` with some gap size `g`,</span>
    <span class='doccomment'>/// `get_gap() == g`.</span>
    <span class='kw'>fn</span> <span class='ident'>set_gap</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>GapSize</span>);
}


<span class='doccomment'>/// A window manager that has multiple workspaces.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// For a small introduction to workspaces, see the first section of the</span>
<span class='doccomment'>/// assignment.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// The idea is that there are a number of different workspaces</span>
<span class='doccomment'>/// ([`MAX_WORKSPACE_INDEX`] + 1), each represented by a different copy of a</span>
<span class='doccomment'>/// single type of window manager. Initially the first (index 0) workspace is</span>
<span class='doccomment'>/// active. The user interacts with this workspace&#39;s window manager, e.g.,</span>
<span class='doccomment'>/// adding/removing windows, focusing a window, etc. When the user then</span>
<span class='doccomment'>/// switches to another workspace, all the windows will be hidden. The user</span>
<span class='doccomment'>/// can then interact with this workspace as if it is a new one. When the user</span>
<span class='doccomment'>/// switches back to the first workspace, the windows previously opened in</span>
<span class='doccomment'>/// this workspace are shown again. When the user switches back to the other</span>
<span class='doccomment'>/// workspace, the windows previously opened in this workspace are shown</span>
<span class='doccomment'>/// again.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// [`MAX_WORKSPACE_INDEX`]: ../types/static.MAX_WORKSPACE_INDEX.html</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// This is useful when multitasking: one workspace is for surfing the web,</span>
<span class='doccomment'>/// another for working on a CPL assignment, a third one for working on your</span>
<span class='doccomment'>/// thesis, etc.</span>
<span class='doccomment'>///</span>
<span class='doccomment'>/// Think carefully about the interaction between this trait and the others.</span>
<span class='doccomment'>/// Most actions must only be executed on the current workspace, e.g.,</span>
<span class='doccomment'>/// `add_window`, but some must be executed on all workspaces, e.g., `set_gap`</span>
<span class='doccomment'>/// or `resize_screen`. Even the getters are non-obvious: should `get_windows`</span>
<span class='doccomment'>/// return the windows of all workspaces or only the current one? What about</span>
<span class='doccomment'>/// `get_floating_windows`? Try to make reasonable and consistent choices</span>
<span class='doccomment'>/// (keep the invariants of this *and* the other traits in mind). Document the</span>
<span class='doccomment'>/// choices and write test cases for them.</span>
<span class='kw'>pub</span> <span class='kw'>trait</span> <span class='ident'>MultiWorkspaceSupport</span><span class='op'>&lt;</span><span class='ident'>WM</span>: <span class='ident'>WindowManager</span><span class='op'>&gt;</span>: <span class='ident'>WindowManager</span> {
    <span class='doccomment'>/// Return the current workspace index.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// When creating a new workspace this will return 0.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: `0 &lt;= get_current_workspace_index() &lt;=</span>
    <span class='doccomment'>/// MAX_WORKSPACE_INDEX`.</span>
    <span class='kw'>fn</span> <span class='ident'>get_current_workspace_index</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>) <span class='op'>-&gt;</span> <span class='ident'>WorkspaceIndex</span>;

    <span class='doccomment'>/// Get an immutable borrow of the workspace at the given index.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function *should* return an appropriate error when `0 &lt;= index &lt;=</span>
    <span class='doccomment'>/// MAX_WORKSPACE_INDEX` is not true.</span>
    <span class='kw'>fn</span> <span class='ident'>get_workspace</span>(<span class='kw-2'>&amp;</span><span class='self'>self</span>, <span class='ident'>index</span>: <span class='ident'>WorkspaceIndex</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span><span class='kw-2'>&amp;</span><span class='ident'>WM</span>, <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Get a mutable borrow of the workspace at the given index.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function *should* return an appropriate error when `0 &lt;= index &lt;=</span>
    <span class='doccomment'>/// MAX_WORKSPACE_INDEX` is not true.</span>
    <span class='kw'>fn</span> <span class='ident'>get_workspace_mut</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>index</span>: <span class='ident'>WorkspaceIndex</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span><span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='ident'>WM</span>, <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;

    <span class='doccomment'>/// Switch to the workspace at the given index.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// If `index == get_current_workspace_index()`, do nothing.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// **Invariant**: the window layout after switching to another workspace</span>
    <span class='doccomment'>/// and then switching back to the original workspace should be the same</span>
    <span class='doccomment'>/// as before.</span>
    <span class='doccomment'>///</span>
    <span class='doccomment'>/// This function *should* return an appropriate error when `0 &lt;= index &lt;=</span>
    <span class='doccomment'>/// MAX_WORKSPACE_INDEX` is not true.</span>
    <span class='kw'>fn</span> <span class='ident'>switch_workspace</span>(<span class='kw-2'>&amp;</span><span class='kw-2'>mut</span> <span class='self'>self</span>, <span class='ident'>index</span>: <span class='ident'>WorkspaceIndex</span>) <span class='op'>-&gt;</span> <span class='prelude-ty'>Result</span><span class='op'>&lt;</span>(), <span class='self'>Self</span>::<span class='ident'>Error</span><span class='op'>&gt;</span>;
}
</pre>
</section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "cplwm_api";
        window.playgroundUrl = "";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    
    <script defer src="../../search-index.js"></script>
</body>
</html>